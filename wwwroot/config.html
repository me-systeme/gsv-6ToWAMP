<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>GSV-6CPU | ME-Me&szlig;systeme GmbH</title>
    <link rel="shortcut icon" href="images/favicon.ico"/>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/me_messsysteme.css" rel="stylesheet">
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="js/jquery.min.1.11.3.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
    <script src="js/autobahn.min.js"></script>
    <script src="js/smoothie.js"></script>
    <script>

        // the WAMP session we'll be using
        //
        var session = null;
        var option1_last = "";
        var typingTimer = new Array();
        var modul_config = new Array();

        // die nummer soll spaeter durch eine aufzaehlung im array ersetzt werden, aber erst wenn das config caching des gsv programmiert ist
        var modul_config_element_count_for_complete_load = 29;
        var setFunctionsByID = {
            'ReadUserScale1': 'WriteUserScale1',
            'ReadUserScale2': 'WriteUserScale2',
            'ReadUserScale3': 'WriteUserScale3',
            'ReadUserScale4': 'WriteUserScale4',
            'ReadUserScale5': 'WriteUserScale5',
            'ReadUserScale6': 'WriteUserScale6',
            'ReadUserOffset1': 'WriteUserOffset1',
            'ReadUserOffset2': 'WriteUserOffset2',
            'ReadUserOffset3': 'WriteUserOffset3',
            'ReadUserOffset4': 'WriteUserOffset4',
            'ReadUserOffset5': 'WriteUserOffset5',
            'ReadUserOffset6': 'WriteUserOffset6',
            'DataRate': 'WriteDataRate'
        };
        var doneTypingInterval = 250;

        var loadTimeOut = 5000;
        var loadConfigTimer = null;

        Object.extend = function (destination, source) {
            for (var property in source) {
                if (source.hasOwnProperty(property)) {
                    destination[property] = source[property];
                }
            }
            return destination;
        }

        function check_isConfig_complete(args) {
            //console.log(args);
            //Array.prototype.push.apply(modul_config, args);
            //modul_config = $.extend({}, modul_config, args);
            //$.merge(modul_config,args);
            //console.log(Object.keys(modul_config).length);
            //console.log(modul_config);
            modul_config = Object.extend(modul_config, args);
            if (Object.keys(modul_config).length >= modul_config_element_count_for_complete_load) {
                // hide loading modal
                doneLoading();
            }
        }

        function setInputSuccess(inputName) {
            $('#' + inputName + '_value').tooltip('destroy');
            $('#' + inputName + '_value').popover('destroy');
            $('#' + inputName).removeClass("has-success has-warning has-error");
            $('#' + inputName + '_glyphicon').removeClass("glyphicon-ok glyphicon-warning-sign glyphicon-remove");

            $('#' + inputName).addClass("has-success");
            $('#' + inputName + '_glyphicon').addClass("glyphicon-ok");
        }

        function setInputWarning(inputName, notice) {
            $('#' + inputName + '_value').tooltip('destroy');
            $('#' + inputName + '_value').popover("destroy");
            if (typeof notice !== 'undefined') {
                //$('#' + inputName + '_value').prop('title', notice).tooltip('show');
                $('#' + inputName + '_value').popover({content: notice, placement: "top"}).popover("show");
            }
            $('#' + inputName).removeClass("has-success has-warning has-error");
            $('#' + inputName + '_glyphicon').removeClass("glyphicon-ok glyphicon-warning-sign glyphicon-remove");

            $('#' + inputName).addClass("has-warning");
            $('#' + inputName + '_glyphicon').addClass("glyphicon-warning-sign");
        }

        function setInputError(inputName, error) {
            //$('#' + inputName + '_value').tooltip('destroy');
            $('#' + inputName + '_value').popover('destroy');
            if (typeof error !== 'undefined') {
                $('#' + inputName + '_value').prop('title', error).tooltip('show');
                //$('#' + inputName + '_value').popover({content: error, placement: "top"}).popover("show");
            }
            $('#' + inputName).removeClass("has-success has-warning has-error");
            $('#' + inputName + '_glyphicon').removeClass("glyphicon-ok glyphicon-warning-sign glyphicon-remove");

            $('#' + inputName).addClass("has-error");
            $('#' + inputName + '_glyphicon').addClass("glyphicon-remove");
        }

        function onGetInterface(args) {
            //console.log(args[0]);
            args = args[0];
            if (args[0] != 0) {
                $('#activeChannels').html('Fehler');
                args['anzahl_messwert-frame-objekte'] = -1;

                $('#ge_schreibschutz').html('Fehler');
                args['genereller_schreibschutz'] = false;

                $('#sp_schreibschutz').html('Fehler');
                args['schnittstellen_spezifischer_schreibschutz'] = false;

                $('#model_name').html('Fehler');
                args['geraete_model'] = 'fehler';

                $('#measure_datatype').html('Fehler');
                args['messwertdatentype'] = 'Fehler';
            } else {
                args = args[2];
                var channels = parseInt(args['anzahl_messwert-frame-objekte']) + 1;
                $('#activeChannels').html(channels);

                var ge_schreibschutz = $('#ge_schreibschutz');
                if (args['genereller_schreibschutz']) {
                    ge_schreibschutz.html('<span class=\"label label-default label-warning\">aktiviert</span>');
                } else {
                    ge_schreibschutz.html('<span class=\"label label-default label-success\">deaktiviert</span>');
                }

                var sp_schreibschutz = $('#sp_schreibschutz');
                if (args['schnittstellen_spezifischer_schreibschutz']) {
                    sp_schreibschutz.html('<span class=\"label label-default label-warning\">aktiviert</span>');
                } else {
                    sp_schreibschutz.html('<span class=\"label label-default label-success\">deaktiviert</span>');
                }

                var model_name = $('#model_name');
                model_name.html('<span class=\"label label-default label-primary\">' + args['geraete_model'] + '</span>');

                var measure_datatype = $('#measure_datatype');
                measure_datatype.html('<span class=\"label label-default label-primary\">' + args['messwertdatentype'] + '</span>');
            }
            // push config data
            check_isConfig_complete(args);
        }

        function onGetReadInputType(args) {
            args = args[0];
            var data = {};
            if (args[0] != 0) {
                setInputError('InputType' + args[2], args[1])
                data['InputType' + args[2]] = args[1];
            }
            else {
                var inputID = 'InputType' + args[2];
                $('#' + inputID + '_value option[value="' + args[3] + '"]').prop('selected', true);
                setInputSuccess(inputID);
                data['InputType' + args[2]] = parseInt(args[3]);
            }
            check_isConfig_complete(data);
        }
        function onWriteInputType(args) {
            args = args[0];
            if (args[0] != 0) {
                setInputError('InputType' + args[2], args[1]);
                return
            }
            session.call("de.me_systeme.gsv.getReadInputType", [args[2]]);
        }

        function onGetReadUserScale(args) {
            args = args[0];
            var data = {};
            if (args[0] != 0) {
                setInputError('ReadUserScale' + args[2], args[1])
                return
            } else {
                var inputID = 'ReadUserScale' + args[2];
                $('#' + inputID + '_value').val(parseFloat(args[3]).toFixed(4));
                data['ReadUserScale' + args[2]] = parseFloat(args[3]);
                setInputSuccess(inputID);
            }
            check_isConfig_complete(data);
        }
        function WriteUserScale1() {
            var scale = parseFloat($('#ReadUserScale1_value').val());
            session.call("de.me_systeme.gsv.WriteUserScale", [1, scale]);
        }
        function WriteUserScale2() {
            var scale = parseFloat($('#ReadUserScale2_value').val());
            session.call("de.me_systeme.gsv.WriteUserScale", [2, scale]);
        }
        function WriteUserScale3() {
            var scale = parseFloat($('#ReadUserScale3_value').val());
            session.call("de.me_systeme.gsv.WriteUserScale", [3, scale]);
        }
        function WriteUserScale4() {
            var scale = parseFloat($('#ReadUserScale4_value').val());
            session.call("de.me_systeme.gsv.WriteUserScale", [4, scale]);
        }
        function WriteUserScale5() {
            var scale = parseFloat($('#ReadUserScale5_value').val());
            session.call("de.me_systeme.gsv.WriteUserScale", [5, scale]);
        }
        function WriteUserScale6() {
            var scale = parseFloat($('#ReadUserScale6_value').val());
            session.call("de.me_systeme.gsv.WriteUserScale", [6, scale]);
        }
        function onWriteUserScale(args) {
            args = args[0];
            console.log(args);
            if (args[0] != 0) {
                //alert("cant set Zero");
                setInputError('ReadUserScale' + args[2], args[1]);
            } else {
                session.call("de.me_systeme.gsv.getReadUserScale", [args[2]]);
            }
        }

        function onGetReadUserOffset(args) {
            args = args[0];
            var data = {};
            if (args[0] != 0) {
                setInputError('ReadUserOffset' + args[2], args[1])
                data['ReadUserOffset' + args[2]] = args[1];
            } else {
                var inputID = 'ReadUserOffset' + args[2];
                $('#' + inputID + '_value').val(parseFloat(args[3]).toFixed(4));
                data['ReadUserOffset' + args[2]] = parseFloat(args[3]);
                setInputSuccess(inputID);
            }
            check_isConfig_complete(data);
        }
        function WriteUserOffset1() {
            var scale = parseFloat($('#ReadUserOffset1_value').val());
            session.call("de.me_systeme.gsv.WriteUserOffset", [1, scale]);
        }
        function WriteUserOffset2() {
            var scale = parseFloat($('#ReadUserOffset2_value').val());
            session.call("de.me_systeme.gsv.WriteUserOffset", [2, scale]);
        }
        function WriteUserOffset3() {
            var scale = parseFloat($('#ReadUserOffset3_value').val());
            session.call("de.me_systeme.gsv.WriteUserOffset", [3, scale]);
        }
        function WriteUserOffset4() {
            var scale = parseFloat($('#ReadUserOffset4_value').val());
            session.call("de.me_systeme.gsv.WriteUserOffset", [4, scale]);
        }
        function WriteUserOffset5() {
            var scale = parseFloat($('#ReadUserOffset5_value').val());
            session.call("de.me_systeme.gsv.WriteUserOffset", [5, scale]);
        }
        function WriteUserOffset6() {
            var scale = parseFloat($('#ReadUserOffset6_value').val());
            session.call("de.me_systeme.gsv.WriteUserOffset", [6, scale]);
        }
        function onWriteUserOffset(args) {
            args = args[0];
            if (args[0] != 0) {
                //alert("cant set Zero");
                setInputError('ReadUserOffset' + args[2]);
                setInputError('ReadUserOffset' + args[2], args[1]);
            } else {
                session.call("de.me_systeme.gsv.getReadUserOffset", [args[2]]);
            }
        }

        function onGetUnitNo(args) {
            args = args[0];
            var data = {};
            if (args[0] != 0) {
                setInputError('UnitNo' + args[2], args[1])
                data['UnitNo' + args[2]] = args[1];
            }
            else {
                var inputID = 'UnitNo' + args[2];
                $('#' + inputID + '_value option[value="' + args[3] + '"]').prop('selected', true);
                setInputSuccess(inputID);
                data['UnitNo' + args[2]] = parseInt(args[3]);
            }
            check_isConfig_complete(data);
        }
        function onWriteUnitNo(args) {
            args = args[0];
            if (args[0] != 0) {
                setInputError('UnitNo' + args[2], args[1]);
                return
            }
            session.call("de.me_systeme.gsv.getUnitNo", [args[2]]);
        }

        function onGetSerialNo(args) {
            args = args[0];
            var data = {};
            if (args[0] != 0) {
                $('#serialNo').html(args[1]);
                data['SerialNo'] = args[1];
            } else {
                if (args[2] == '') {
                    $('#serialNo').html('(leer)');
                } else {
                    $('#serialNo').html(args[2]);
                }
                data['SerialNo'] = parseInt(args[2]);
            }
            check_isConfig_complete(data);
        }

        function onGetDeviceHours(args) {
            var data = {};
            args = args[0];
            if (args[0] != 0) {
                $('#device_hours_counter').html(args[1]);
                data['DeviceHoursAbs'] = args[1];
                check_isConfig_complete(data);
            } else {
                $('#device_hours_counter').html(args[2]);
                data['DeviceHoursAbs'] = parseInt(args[2]);
            }
            check_isConfig_complete(data);
        }

        function onGetFirmwareVersion(args) {
            var data = {};
            args = args[0];
            if (args[0] != 0) {
                $('#device_fw_version').html(args[1]);
                data['DeviceFWversion'] = args[1];
                check_isConfig_complete(data);
                return
            }
            if (!Array.isArray(args[2])) {
                $('#device_fw_version').html("error");
                return;
            }
            var versionStr = 'Major: ' + args[2][0] + '  Minor:' + args[2][1];
            $('#device_fw_version').html(versionStr);

            data['DeviceFWversion'] = versionStr;
            check_isConfig_complete(data);
        }

        function onGetDataRate(args) {
            args = args[0];
            var data = {};
            if (args[0] != 0) {
                setInputError('DataRate', args[1])
                data['DataRate'] = -1;
            }
            else {
                $('#DataRate_value').val(parseFloat(args[2]).toFixed(2));
                setInputSuccess('DataRate');
                data['DataRate'] = parseFloat(args[2]);
            }
            check_isConfig_complete(data);
        }
        function WriteDataRate() {
            var dataRate = parseFloat($('#DataRate_value').val());
            session.call("de.me_systeme.gsv.WriteDataRate", [dataRate]);
        }
        function onWriteDataRate(args) {
            args = args[0];
            if (args[0] != 0) {
                setInputError('DataRate' + args[2]);
                return
            }
            session.call("de.me_systeme.gsv.getDataRate");
        }

        function WriteSaveAll() {
            if ($('#btn-saveAll').hasClass("disabled")) {
                return;
            }
            $('#btn-saveAll').addClass("disabled");
            $('#btn-saveAll').popover("destroy");
            $('#btn-saveAll').popover({content: 'wird übertragen...', placement: "top"}).popover("show");
            session.call("de.me_systeme.gsv.WriteSaveAll");
        }
        function onWriteSaveAll(args) {
            args = args[0];
            $('#btn-saveAll').popover("destroy");
            if (args[0] != 0) {
                $('#btn-saveAll').prop('title', args[1]).tooltip('show');
                return
            }
            $('#btn-saveAll').prop('title', 'Speicherung erfolgreich.').tooltip('show');
            $('#btn-saveAll').removeClass("btn-warning disabled");
            $('#btn-saveAll').addClass("btn-success");
            setTimeout(function () {
                $('#btn-saveAll').tooltip("destroy");
                $('#btn-saveAll').removeClass("btn-success disabled");
                $('#btn-saveAll').addClass("btn-warning");
            }, 3500);
        }

        function onLoadConfigError() {
            $('#myPleaseWait').modal('hide');
            $('#errorModal').modal('show');
            session.call('de.me_systeme.gsv.resetAntwortQueue').then(function checkReset(res) {
                //alert(res);
                setTimeout(function () {
                    location.reload();
                }, 2000);
            }, session.log);
        }

        function onGetUnitText(args) {
            args = args[0];
            //console.log(args);
            var data = {};
            if (args[0] != 0) {
                alert("UnitText konnte nicht ermittelt werden.")
                data['UnitText' + args[2]] = "";
            }
            else {
                var effectiveID = 0;
                if (parseInt(args[2]) == 0) {
                    effectiveID = 255;
                } else {
                    effectiveID = 254;
                }
                if (args[3] == "") {
                    args[3] = 'Slot ' + args[2] + ' nicht gesetzt';
                }

                $('#UnitNo1 option[value="' + effectiveID + '"]').html(args[3]);
                $('#UnitNo2 option[value="' + effectiveID + '"]').html(args[3]);
                $('#UnitNo3 option[value="' + effectiveID + '"]').html(args[3]);
                $('#UnitNo4 option[value="' + effectiveID + '"]').html(args[3]);
                $('#UnitNo5 option[value="' + effectiveID + '"]').html(args[3]);
                $('#UnitNo6 option[value="' + effectiveID + '"]').html(args[3]);

                data['UnitText' + args[2]] = args[3];
            }
            check_isConfig_complete(data);
        }
        function setUnitText(slot) {
            var newStr = $('#newUnitText').val();
            if (newStr.length > 8) {
                $('#newUnitText').prop('title', 'UnitText darf nicht mehr als 8 Zeichen lang sein!').tooltip('show');
            } else {
                $('#newUnitText').tooltip('destroy');
                $('#setUnitTextModal').modal('hide');
                $('#newUnitText').val('');
                session.call("de.me_systeme.gsv.setUnitText", [newStr, slot]);
            }
        }
        function onSetUnitText(args) {
            args = args[0];
            console.log(args);
            if (args[0] != 0) {
                showGeError('UnitText konnte nicht gesetzt werde!', args[1]);
            } else {
                session.call("de.me_systeme.gsv.getUnitText", slot);
            }
        }

        var timerForSetDateTime = 0;
        function setDateTimeFromBrowser() {
            clearTimeout(timerForSetDateTime);
            session.call('de.me_systeme.gsv.setDateTimeFromBrowser', [(new Date()).toUTCString()]).then(function set(res) {
                if (res[0] != 0) {
                    showGeError("Datum und Uhrzeit konnten nicht gesetzt werden.", "Fehlercode: " + res[0] + '; ' + res[1]);
                } else {
                    $('#btn_setDateTime').popover({
                        content: 'DateTime wurde erflogreich gesetzt (' + res[2] + ')',
                        placement: "top"
                    }).popover("show");
                    timerForSetDateTime = setTimeout(function () {
                        $('#btn_setDateTime').popover('destroy');
                    }, 5000);
                }
            }, session.log);
        }

        function rebootSystem() {
            session.call('de.me_systeme.gsv.rebootSystem').then(function set(res) {
                if (res[0] != 0) {
                    showGeError("System-Reboot konnte nicht durchgeführt werden", "Fehlercode: " + res[0] + '; ' + res[1]);
                } else {
                    $('#btn_rebootSystem').addClass("disabled");
                    $('#btn_rebootSystem').popover({content: 'system is rebooting', placement: "top"}).popover("show");
                    timerForSetDateTime = setTimeout(function () {
                        $('#btn_rebootSystem').removeClass("disabled")
                        $('#btn_rebootSystem').popover('destroy');
                    }, 90000);
                }
            }, session.log);
        }


        function shutdownSystem() {
            session.call('de.me_systeme.gsv.shutdownSystem').then(function set(res) {
                if (res[0] != 0) {
                    showGeError("System-Shutdown konnte nicht durchgeführt werden", "Fehlercode: " + res[0] + '; ' + res[1]);
                } else {
                    $('#btn_shutdownSystem').addClass("disabled");
                    $('#btn_shutdownSystem').popover({content: 'system is shutdown', placement: "top"}).popover("show");
                    timerForSetDateTime = setTimeout(function () {
                        $('#btn_shutdownSystem').removeClass("disabled")
                        $('#btn_shutdownSystem').popover('destroy');
                    }, 90000);
                }
            }, session.log);
        }

        function showGeError(title, detail) {
            $('#geError_header').html(title);
            $('#geError_detail').html(detail);
            $('#geErrorModal').modal('show');
        }

        function waitForSystemReadyAndLoadDetails() {
            session.call('de.me_systeme.gsv.isSystemReady').then(function isSystemReady(ready_flag) {
                if (!ready_flag) {
                    $('#myPleaseWait').modal('show');
                    setTimeout(function () {
                        waitForSystemReadyAndLoadDetails();
                    }, 2000);
                } else {
                    session.call("de.me_systeme.gsv.getGetIntetface");
                    session.call("de.me_systeme.gsv.getReadUserOffset", [1]);
                    session.call("de.me_systeme.gsv.getReadUserOffset", [2]);
                    session.call("de.me_systeme.gsv.getReadUserOffset", [3]);
                    session.call("de.me_systeme.gsv.getReadUserOffset", [4]);
                    session.call("de.me_systeme.gsv.getReadUserOffset", [5]);
                    session.call("de.me_systeme.gsv.getReadUserOffset", [6]);
                    session.call("de.me_systeme.gsv.getReadUserScale", [1]);
                    session.call("de.me_systeme.gsv.getReadUserScale", [2]);
                    session.call("de.me_systeme.gsv.getReadUserScale", [3]);
                    session.call("de.me_systeme.gsv.getReadUserScale", [4]);
                    session.call("de.me_systeme.gsv.getReadUserScale", [5]);
                    session.call("de.me_systeme.gsv.getReadUserScale", [6]);
                    session.call("de.me_systeme.gsv.getUnitNo", [1]);
                    session.call("de.me_systeme.gsv.getUnitNo", [2]);
                    session.call("de.me_systeme.gsv.getUnitNo", [3]);
                    session.call("de.me_systeme.gsv.getUnitNo", [4]);
                    session.call("de.me_systeme.gsv.getUnitNo", [5]);
                    session.call("de.me_systeme.gsv.getUnitNo", [6]);
                    session.call("de.me_systeme.gsv.getSerialNo");
                    session.call("de.me_systeme.gsv.getDeviceHours");
                    session.call("de.me_systeme.gsv.getDataRate");
                    session.call("de.me_systeme.gsv.getFirmwareVersion");
                    session.call("de.me_systeme.gsv.getReadInputType", [1]);
                    /*
                    session.call("de.me_systeme.gsv.getReadInputType", [2]);
                    session.call("de.me_systeme.gsv.getReadInputType", [3]);
                    session.call("de.me_systeme.gsv.getReadInputType", [4]);
                    session.call("de.me_systeme.gsv.getReadInputType", [5]);
                    session.call("de.me_systeme.gsv.getReadInputType", [6]);
                    */
                    session.call("de.me_systeme.gsv.getUnitText", [0]);
                    session.call("de.me_systeme.gsv.getUnitText", [1]);
                }
            }, session.log);
        }

        window.onload = function () {
            $('#myPleaseWait').modal('show');
            loadConfigTimer = setTimeout(onLoadConfigError, loadTimeOut);

            // the URL of the WAMP Router (e.g. Crossbar.io)
            //
            var wsuri;
            if (document.location.origin == "file://") {
                wsuri = "ws://localhost:8001/ws";
            } else {
                wsuri = "ws://" + document.location.hostname + ":8001/ws";
            }

            // connect to WAMP server
            //
            var connection = new autobahn.Connection({
                url: wsuri,
                realm: 'me_gsv6'
            });

            connection.onopen = function (new_session) {
                console.log("connected to " + wsuri);

                session = new_session;

                session.subscribe("de.me_systeme.gsv.onGetInterface", onGetInterface);
                session.subscribe("de.me_systeme.gsv.onGetReadUserScale", onGetReadUserScale);
                session.subscribe("de.me_systeme.gsv.onWriteUserScale", onWriteUserScale);
                session.subscribe("de.me_systeme.gsv.onGetUnitNo", onGetUnitNo);
                session.subscribe("de.me_systeme.gsv.onWriteUnitNo", onWriteUnitNo);
                session.subscribe("de.me_systeme.gsv.onGetSerialNo", onGetSerialNo);
                session.subscribe("de.me_systeme.gsv.onGetDeviceHours", onGetDeviceHours);
                session.subscribe("de.me_systeme.gsv.onGetDataRate", onGetDataRate);
                session.subscribe("de.me_systeme.gsv.onWriteDataRate", onWriteDataRate);
                session.subscribe("de.me_systeme.gsv.onWriteSaveAll", onWriteSaveAll);
                session.subscribe("de.me_systeme.gsv.onGetFirmwareVersion", onGetFirmwareVersion);
                session.subscribe("de.me_systeme.gsv.onGetReadUserOffset", onGetReadUserOffset);
                session.subscribe("de.me_systeme.gsv.onWriteUserOffset", onWriteUserOffset);
                session.subscribe("de.me_systeme.gsv.onGetReadInputType", onGetReadInputType);
                session.subscribe("de.me_systeme.gsv.onWriteInputType", onWriteInputType);
                session.subscribe("de.me_systeme.gsv.onSetUnitText", onSetUnitText);
                session.subscribe("de.me_systeme.gsv.onGetUnitText", onGetUnitText);

                waitForSystemReadyAndLoadDetails();
            };
            connection.open();

            $("input.modul_settings").keyup(onKeyUpConfigInputs);
            $("input.modul_settings").keydown(onKeyDownConfigInputs);
            $('select.unitNo').change(doneSelect);
            $('select.InputType').change(doneSelectInputType);
        };

        function doneLoading() {
            $('#myPleaseWait').modal('hide');
            clearTimeout(loadConfigTimer);
        }

        function onKeyUpConfigInputs(e) {
            //console.log("up");
            //ESC==27
            //ENTER=13
            if ((e.which == 27) || (e.which == 13)) {
                return;
            }
            var inputID = $(this).data('id');
            clearTimeout(typingTimer);
            typingTimer[inputID] = setTimeout(function () {
                doneTyping(inputID);
            }, doneTypingInterval);
        }

        function onKeyDownConfigInputs(e) {
            //console.log("down");
            var inputID = $(this).data('id');
            clearTimeout(typingTimer[inputID]);

            //ESC==27
            //ENTER=13
            if (e.which == 27) {
                $('#' + inputID + '_value').val(modul_config[inputID].toFixed(4));
                setInputSuccess(inputID);
            } else if (($('#' + inputID + '_value').val() == '')) {
                setInputError(inputID);
            } else if ((e.which == 13) && (modul_config[inputID] != $('#' + inputID + '_value').val())) {
                // übernehmen
                setInputWarning(inputID, "wird übertragen...");
                window[setFunctionsByID[inputID]]();
            }
        }

        function doneTyping(inputID) {
            if (modul_config[inputID] != $('#' + inputID + '_value').val()) {
                setInputWarning(inputID);
            }
            else {
                setInputSuccess(inputID);
            }
        }

        function doneSelect(e) {
            var inputID = $(this).data('id');
            var index = parseInt($('#' + inputID + '_value').val());
            var inputIDno = parseInt(inputID.charAt(inputID.length - 1));
            setInputWarning(inputID, "wird übertragen...");
            session.call("de.me_systeme.gsv.WriteUnitNo", [inputIDno, index]);
        }

        function doneSelectInputType(e) {
            var inputID = $(this).data('id');
            var index = parseInt($('#' + inputID + '_value').val());
            // GSV-6CPU only supports one inputType for all channels
            var inputIDno = parseInt(inputID.charAt(inputID.length - 1));
            setInputWarning(inputID, "wird übertragen...");
            session.call("de.me_systeme.gsv.WriteInputType", [inputIDno, index]);
        }
    </script>

</head>
<body>
<nav class="navbar navbar-default">
    <div class="container-fluid">
        <div class="navbar-header">
            <a class="navbar-brand" href="#">ME-Me&szlig;systeme GmbH</a>
        </div>
        <div>
            <ul class="nav navbar-nav">
                <li><a href="index.html">Messung</a></li>
                <li class="active"><a href="#">Konfiguration</a></li>
                <li><a href="archiv.html">Archiv</a></li>
                <li><a href="log.html">Log</a></li>
            </ul>
        </div>
    </div>
</nav>
<!-- Loading Modal Start here-->
<div class="modal fade bs-example-modal-sm" id="myPleaseWait" tabindex="-1"
     role="dialog" aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">
                    <span class="glyphicon glyphicon-time">
                    </span> Konfiguration wird geladen...
                </h4>
            </div>
            <div class="modal-body">
                <div class="progress">
                    <div class="progress-bar progress-bar-info
                    progress-bar-striped active"
                         style="width: 100%">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Loading Modal ends Here -->
<!-- Error Modal Start here-->
<div class="modal fade bs-example-modal-sm" id="errorModal" tabindex="-1"
     role="dialog" aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">
                    <span class="glyphicon glyphicon-alert">
                    </span> Ladetimeout erreicht
                </h4>
            </div>
            <div class="modal-body">
                <h3>Die Antwort-Queue wird zur&uuml;ckgesetzt</h3>

                <div class="progress">
                    <div class="progress-bar progress-bar-danger
                    progress-bar-striped active"
                         style="width: 100%">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Error Modal ends Here -->
<!-- setUserText Modal Start here-->
<div class="modal fade bs-example-modal-sm" id="setUnitTextModal" tabindex="-1"
     role="dialog" aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="setUnitTextTitle"><span class="glyphicon glyphicon-pencil"></span> Setzten
                    des Unit-Textes</h4>
            </div>
            <div class="modal-body">
                <dl>
                    <dt>Slot</dt>
                    <dd id="setUnitTextSlot">-</dd>
                </dl>
                <input id="newUnitText" maxlength="8" class="form-control">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-warning"
                        onclick="setUnitText(parseInt($('#setUnitTextSlot').html()));">
                    Ja, &uuml;bernehmen
                </button>
                <button type="button" class="btn btn-success"
                        onclick="$('#newUnitText').val('');$('#setUnitTextModal').modal('hide');">Nein,
                    Abbruch
                </button>
            </div>
        </div>
    </div>
</div>
</div>
<!-- setUserText Modal ends Here -->
<!-- error Modal Start here-->
<div class="modal fade bs-example-modal-sm" id="geErrorModal" tabindex="-1"
     role="dialog" aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header">

                <h4 class="modal-title"><span class="glyphicon glyphicon-alert"></span> Es ist ein Fehler aufgetreten
                </h4>
            </div>
            <div class="modal-body">
                <dl>
                    <dt id="geError_header">-</dt>
                    <dd id="geError_detail">-</dd>
                </dl>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-warning"
                        onclick="$('#geErrorModal').modal('hide');">
                    O.K.
                </button>
            </div>
        </div>
    </div>
</div>
</div>
<!-- error Modal ends Here -->
<div class="container">

    <div class="well well-sm">Modul Info</div>

    <div class="row">
        <div class="col-sm-4 box">
            <table class="table table-condensed">
                <thead>
                <tr>
                    <th>Eigenschaft</th>
                    <th>Wert</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>genereller Schreibschutz</td>
                    <td id="ge_schreibschutz">-</td>
                </tr>
                <tr>
                    <td>Schnittstellen spzif. Schreibs.</td>
                    <td id="sp_schreibschutz"></td>
                </tr>
                <tr>
                    <td>Model</td>
                    <td id="model_name"></td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="col-sm-4 box">
            <table class="table table-condensed">
                <thead>
                <tr>
                    <th>Eigenschaft</th>
                    <th>Wert</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>output-Datentype</td>
                    <td id="measure_datatype">-</td>
                </tr>
                <tr>
                    <td>aktive Kan&auml;le</td>
                    <td id="activeChannels">-</td>
                </tr>
                <tr>
                    <td>SerialNo</td>
                    <td id="serialNo">-</td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="col-sm-4 box">
            <table class="table table-condensed">
                <thead>
                <tr>
                    <th>Eigenschaft</th>
                    <th>Wert</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>Betriebstunden</td>
                    <td id="device_hours_counter">-</td>
                </tr>
                <tr>
                    <td>Firmware Version</td>
                    <td id="device_fw_version">-</td>
                </tr>
                <tr>
                    <td>Datenrate</td>
                    <td>
                        <div id="DataRate" class="form-group has-success has-feedback">
                            <input id="DataRate_value" data-id="DataRate" type="number" step="0.01"
                                   min="1"
                                   max="2500"
                                   class="form-control modul_settings">
                            <span class="badge badgeInsideInput">Hz</span>
                                    <span id="DataRate_glyphicon"
                                          class="glyphicon glyphicon-ok form-control-feedback"></span>

                        </div>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="well well-sm">Modul Settings</div>

    <div class="panel panel-default">
        <div class="panel-heading">Offset, Scaling, Einheiten, Eingangstype</div>
        <div class="panel-body">
            <div class="row">
                <div class="col-sm-3">
                    <table class="table">
                        <caption>UserOffset</caption>
                        <thead>
                        <tr>
                            <th>Kanal</th>
                            <th>Wert</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>1</td>
                            <td>
                                <div id="ReadUserOffset1" class="form-group has-success has-feedback">
                                    <input id="ReadUserOffset1_value" data-id="ReadUserOffset1" type="number"
                                           step="0.01"
                                           min="-400"
                                           max="400"
                                           class="form-control modul_settings">
                                    <span id="ReadUserOffset1_glyphicon"
                                          class="glyphicon glyphicon-ok form-control-feedback"></span>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>
                                <div id="ReadUserOffset2" class="form-group has-success has-feedback">
                                    <input id="ReadUserOffset2_value" data-id="ReadUserOffset2" type="number"
                                           step="0.01"
                                           min="-400"
                                           max="400"
                                           class="form-control modul_settings">
                                    <span id="ReadUserOffset2_glyphicon"
                                          class="glyphicon glyphicon-ok form-control-feedback"></span>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>3</td>
                            <td>
                                <div id="ReadUserOffset3" class="form-group has-success has-feedback">
                                    <input id="ReadUserOffset3_value" data-id="ReadUserOffset3" type="number"
                                           step="0.01"
                                           min="-400"
                                           max="400"
                                           class="form-control modul_settings">
                                    <span id="ReadUserOffset3_glyphicon"
                                          class="glyphicon glyphicon-ok form-control-feedback"></span>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>4</td>
                            <td>
                                <div id="ReadUserOffset4" class="form-group has-success has-feedback">
                                    <input id="ReadUserOffset4_value" data-id="ReadUserOffset4" type="number"
                                           step="0.01"
                                           min="-400"
                                           max="400"
                                           class="form-control modul_settings">
                                    <span id="ReadUserOffset4_glyphicon"
                                          class="glyphicon glyphicon-ok form-control-feedback"></span>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>5</td>
                            <td>
                                <div id="ReadUserOffset5" class="form-group has-success has-feedback">
                                    <input id="ReadUserOffset5_value" data-id="ReadUserOffset5" type="number"
                                           step="0.01"
                                           min="-400"
                                           max="400"
                                           class="form-control modul_settings">
                                    <span id="ReadUserOffset5_glyphicon"
                                          class="glyphicon glyphicon-ok form-control-feedback"></span>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>6</td>
                            <td>
                                <div id="ReadUserOffset6" class="form-group has-success has-feedback">
                                    <input id="ReadUserOffset6_value" data-id="ReadUserOffset6" type="number"
                                           step="0.01"
                                           min="-400"
                                           max="600"
                                           class="form-control modul_settings">
                                    <span id="ReadUserOffset6_glyphicon"
                                          class="glyphicon glyphicon-ok form-control-feedback"></span>
                                </div>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div class="col-sm-3">
                    <table class="table">
                        <caption>UserScale</caption>
                        <thead>
                        <tr>
                            <th>Kanal</th>
                            <th>Wert</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>1</td>
                            <td>
                                <div id="ReadUserScale1" class="form-group has-success has-feedback">
                                    <input id="ReadUserScale1_value" data-id="ReadUserScale1" type="number" step="1"
                                           min="0"
                                           max="1000"
                                           class="form-control modul_settings">
                                    <span id="ReadUserScale1_glyphicon"
                                          class="glyphicon glyphicon-ok form-control-feedback"></span>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>
                                <div id="ReadUserScale2" class="form-group has-success has-feedback">
                                    <input id="ReadUserScale2_value" data-id="ReadUserScale2" type="number" step="1"
                                           min="0"
                                           max="1000"
                                           class="form-control modul_settings">
                                    <span id="ReadUserScale2_glyphicon"
                                          class="glyphicon glyphicon-ok form-control-feedback"></span>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>3</td>
                            <td>
                                <div id="ReadUserScale3" class="form-group has-success has-feedback">
                                    <input id="ReadUserScale3_value" data-id="ReadUserScale3" type="number" step="1"
                                           min="0"
                                           max="1000"
                                           class="form-control modul_settings">
                                    <span id="ReadUserScale3_glyphicon"
                                          class="glyphicon glyphicon-ok form-control-feedback"></span>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>4</td>
                            <td>
                                <div id="ReadUserScale4" class="form-group has-success has-feedback">
                                    <input id="ReadUserScale4_value" data-id="ReadUserScale4" type="number" step="1"
                                           min="0"
                                           max="1000"
                                           class="form-control modul_settings">
                                    <span id="ReadUserScale4_glyphicon"
                                          class="glyphicon glyphicon-ok form-control-feedback"></span>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>5</td>
                            <td>
                                <div id="ReadUserScale5" class="form-group has-success has-feedback">
                                    <input id="ReadUserScale5_value" data-id="ReadUserScale5" type="number" step="1"
                                           min="0"
                                           max="1000"
                                           class="form-control modul_settings">
                                    <span id="ReadUserScale5_glyphicon"
                                          class="glyphicon glyphicon-ok form-control-feedback"></span>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>6</td>
                            <td>
                                <div id="ReadUserScale6" class="form-group has-success has-feedback">
                                    <input id="ReadUserScale6_value" data-id="ReadUserScale6" type="number" step="1"
                                           min="0"
                                           max="1000"
                                           max="1000"
                                           class="form-control modul_settings">
                                    <span id="ReadUserScale6_glyphicon"
                                          class="glyphicon glyphicon-ok form-control-feedback"></span>
                                </div>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div class="col-sm-3">
                    <table class="table">
                        <caption>Einheiten</caption>
                        <thead>
                        <tr>
                            <th>Kanal</th>
                            <th>Einheit</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>1</td>
                            <td>
                                <div id="UnitNo1" class="form-group has-success has-feedback">
                                    <select id="UnitNo1_value" data-id="UnitNo1" class="form-control unitNo">
                                        <option value="0">mV/V</option>
                                        <option value="1">kg</option>
                                        <option value="2">g</option>
                                        <option value="3">N</option>
                                        <option value="4">cN</option>
                                        <option value="5">V</option>
                                        <option value="6">µm/m</option>
                                        <option value="7">(keine)</option>
                                        <option value="8">t</option>
                                        <option value="9">kN</option>
                                        <option value="10">lb</option>
                                        <option value="11">oz</option>
                                        <option value="12">kp</option>
                                        <option value="13">lbf</option>
                                        <option value="14">pdl</option>
                                        <option value="15">mm</option>
                                        <option value="16">m</option>
                                        <option value="17">cNm</option>
                                        <option value="18">Nm</option>
                                        <option value="19">°C</option>
                                        <option value="20">°F</option>
                                        <option value="21">K</option>
                                        <option value="22">oztr</option>
                                        <option value="23">dwt</option>
                                        <option value="24">kNm</option>
                                        <option value="25">%</option>
                                        <option value="26">‰</option>
                                        <option value="27">W</option>
                                        <option value="28">kW</option>
                                        <option value="29">rpm</option>
                                        <option value="30">bar</option>
                                        <option value="31">Pa</option>
                                        <option value="32">hPa</option>
                                        <option value="33">MPa</option>
                                        <option value="34">N/mm²</option>
                                        <option value="35">°</option>
                                        <option value="36">Hz</option>
                                        <option value="37">m/s</option>
                                        <option value="38">km/h</option>
                                        <option value="39">m³/h</option>
                                        <option value="40">mA</option>
                                        <option value="41">A</option>
                                        <option value="42">m/s²</option>
                                        <option value="255">UnitText slot 0</option>
                                        <option value="254">UnitText slot 1</option>
                                    </select>
                                    <span id="UnitNo1_glyphicon"
                                          class="glyphicon glyphicon-ok form-control-feedback select_gly"></span>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>
                                <div id="UnitNo2" class="form-group has-success has-feedback">
                                    <select id="UnitNo2_value" data-id="UnitNo2" class="form-control unitNo">
                                        <option value="0">mV/V</option>
                                        <option value="1">kg</option>
                                        <option value="2">g</option>
                                        <option value="3">N</option>
                                        <option value="4">cN</option>
                                        <option value="5">V</option>
                                        <option value="6">µm/m</option>
                                        <option value="7">(keine)</option>
                                        <option value="8">t</option>
                                        <option value="9">kN</option>
                                        <option value="10">lb</option>
                                        <option value="11">oz</option>
                                        <option value="12">kp</option>
                                        <option value="13">lbf</option>
                                        <option value="14">pdl</option>
                                        <option value="15">mm</option>
                                        <option value="16">m</option>
                                        <option value="17">cNm</option>
                                        <option value="18">Nm</option>
                                        <option value="19">°C</option>
                                        <option value="20">°F</option>
                                        <option value="21">K</option>
                                        <option value="22">oztr</option>
                                        <option value="23">dwt</option>
                                        <option value="24">kNm</option>
                                        <option value="25">%</option>
                                        <option value="26">‰</option>
                                        <option value="27">W</option>
                                        <option value="28">kW</option>
                                        <option value="29">rpm</option>
                                        <option value="30">bar</option>
                                        <option value="31">Pa</option>
                                        <option value="32">hPa</option>
                                        <option value="33">MPa</option>
                                        <option value="34">N/mm²</option>
                                        <option value="35">°</option>
                                        <option value="36">Hz</option>
                                        <option value="37">m/s</option>
                                        <option value="38">km/h</option>
                                        <option value="39">m³/h</option>
                                        <option value="40">mA</option>
                                        <option value="41">A</option>
                                        <option value="42">m/s²</option>
                                        <option value="255">UnitText slot 0</option>
                                        <option value="254">UnitText slot 1</option>
                                    </select>
                                    <span id="UnitNo2_glyphicon"
                                          class="glyphicon glyphicon-ok form-control-feedback select_gly"></span>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>3</td>
                            <td>
                                <div id="UnitNo3" class="form-group has-success has-feedback">
                                    <select id="UnitNo3_value" data-id="UnitNo3" class="form-control unitNo">
                                        <option value="0">mV/V</option>
                                        <option value="1">kg</option>
                                        <option value="2">g</option>
                                        <option value="3">N</option>
                                        <option value="4">cN</option>
                                        <option value="5">V</option>
                                        <option value="6">µm/m</option>
                                        <option value="7">(keine)</option>
                                        <option value="8">t</option>
                                        <option value="9">kN</option>
                                        <option value="10">lb</option>
                                        <option value="11">oz</option>
                                        <option value="12">kp</option>
                                        <option value="13">lbf</option>
                                        <option value="14">pdl</option>
                                        <option value="15">mm</option>
                                        <option value="16">m</option>
                                        <option value="17">cNm</option>
                                        <option value="18">Nm</option>
                                        <option value="19">°C</option>
                                        <option value="20">°F</option>
                                        <option value="21">K</option>
                                        <option value="22">oztr</option>
                                        <option value="23">dwt</option>
                                        <option value="24">kNm</option>
                                        <option value="25">%</option>
                                        <option value="26">‰</option>
                                        <option value="27">W</option>
                                        <option value="28">kW</option>
                                        <option value="29">rpm</option>
                                        <option value="30">bar</option>
                                        <option value="31">Pa</option>
                                        <option value="32">hPa</option>
                                        <option value="33">MPa</option>
                                        <option value="34">N/mm²</option>
                                        <option value="35">°</option>
                                        <option value="36">Hz</option>
                                        <option value="37">m/s</option>
                                        <option value="38">km/h</option>
                                        <option value="39">m³/h</option>
                                        <option value="40">mA</option>
                                        <option value="41">A</option>
                                        <option value="42">m/s²</option>
                                        <option value="255">UnitText slot 0</option>
                                        <option value="254">UnitText slot 1</option>
                                    </select>
                                    <span id="UnitNo3_glyphicon"
                                          class="glyphicon glyphicon-ok form-control-feedback select_gly"></span>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>4</td>
                            <td>
                                <div id="UnitNo4" class="form-group has-success has-feedback">
                                    <select id="UnitNo4_value" data-id="UnitNo4" class="form-control unitNo">
                                        <option value="0">mV/V</option>
                                        <option value="1">kg</option>
                                        <option value="2">g</option>
                                        <option value="3">N</option>
                                        <option value="4">cN</option>
                                        <option value="5">V</option>
                                        <option value="6">µm/m</option>
                                        <option value="7">(keine)</option>
                                        <option value="8">t</option>
                                        <option value="9">kN</option>
                                        <option value="10">lb</option>
                                        <option value="11">oz</option>
                                        <option value="12">kp</option>
                                        <option value="13">lbf</option>
                                        <option value="14">pdl</option>
                                        <option value="15">mm</option>
                                        <option value="16">m</option>
                                        <option value="17">cNm</option>
                                        <option value="18">Nm</option>
                                        <option value="19">°C</option>
                                        <option value="20">°F</option>
                                        <option value="21">K</option>
                                        <option value="22">oztr</option>
                                        <option value="23">dwt</option>
                                        <option value="24">kNm</option>
                                        <option value="25">%</option>
                                        <option value="26">‰</option>
                                        <option value="27">W</option>
                                        <option value="28">kW</option>
                                        <option value="29">rpm</option>
                                        <option value="30">bar</option>
                                        <option value="31">Pa</option>
                                        <option value="32">hPa</option>
                                        <option value="33">MPa</option>
                                        <option value="34">N/mm²</option>
                                        <option value="35">°</option>
                                        <option value="36">Hz</option>
                                        <option value="37">m/s</option>
                                        <option value="38">km/h</option>
                                        <option value="39">m³/h</option>
                                        <option value="40">mA</option>
                                        <option value="41">A</option>
                                        <option value="42">m/s²</option>
                                        <option value="255">UnitText slot 0</option>
                                        <option value="254">UnitText slot 1</option>
                                    </select>
                                    <span id="UnitNo4_glyphicon"
                                          class="glyphicon glyphicon-ok form-control-feedback select_gly"></span>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>5</td>
                            <td>
                                <div id="UnitNo5" class="form-group has-success has-feedback">
                                    <select id="UnitNo5_value" data-id="UnitNo5" class="form-control unitNo">
                                        <option value="0">mV/V</option>
                                        <option value="1">kg</option>
                                        <option value="2">g</option>
                                        <option value="3">N</option>
                                        <option value="4">cN</option>
                                        <option value="5">V</option>
                                        <option value="6">µm/m</option>
                                        <option value="7">(keine)</option>
                                        <option value="8">t</option>
                                        <option value="9">kN</option>
                                        <option value="10">lb</option>
                                        <option value="11">oz</option>
                                        <option value="12">kp</option>
                                        <option value="13">lbf</option>
                                        <option value="14">pdl</option>
                                        <option value="15">mm</option>
                                        <option value="16">m</option>
                                        <option value="17">cNm</option>
                                        <option value="18">Nm</option>
                                        <option value="19">°C</option>
                                        <option value="20">°F</option>
                                        <option value="21">K</option>
                                        <option value="22">oztr</option>
                                        <option value="23">dwt</option>
                                        <option value="24">kNm</option>
                                        <option value="25">%</option>
                                        <option value="26">‰</option>
                                        <option value="27">W</option>
                                        <option value="28">kW</option>
                                        <option value="29">rpm</option>
                                        <option value="30">bar</option>
                                        <option value="31">Pa</option>
                                        <option value="32">hPa</option>
                                        <option value="33">MPa</option>
                                        <option value="34">N/mm²</option>
                                        <option value="35">°</option>
                                        <option value="36">Hz</option>
                                        <option value="37">m/s</option>
                                        <option value="38">km/h</option>
                                        <option value="39">m³/h</option>
                                        <option value="40">mA</option>
                                        <option value="41">A</option>
                                        <option value="42">m/s²</option>
                                        <option value="255">UnitText slot 0</option>
                                        <option value="254">UnitText slot 1</option>
                                    </select>
                                    <span id="UnitNo5_glyphicon"
                                          class="glyphicon glyphicon-ok form-control-feedback select_gly"></span>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>6</td>
                            <td>
                                <div id="UnitNo6" class="form-group has-success has-feedback">
                                    <select id="UnitNo6_value" data-id="UnitNo6" class="form-control unitNo">
                                        <option value="0">mV/V</option>
                                        <option value="1">kg</option>
                                        <option value="2">g</option>
                                        <option value="3">N</option>
                                        <option value="4">cN</option>
                                        <option value="5">V</option>
                                        <option value="6">µm/m</option>
                                        <option value="7">(keine)</option>
                                        <option value="8">t</option>
                                        <option value="9">kN</option>
                                        <option value="10">lb</option>
                                        <option value="11">oz</option>
                                        <option value="12">kp</option>
                                        <option value="13">lbf</option>
                                        <option value="14">pdl</option>
                                        <option value="15">mm</option>
                                        <option value="16">m</option>
                                        <option value="17">cNm</option>
                                        <option value="18">Nm</option>
                                        <option value="19">°C</option>
                                        <option value="20">°F</option>
                                        <option value="21">K</option>
                                        <option value="22">oztr</option>
                                        <option value="23">dwt</option>
                                        <option value="24">kNm</option>
                                        <option value="25">%</option>
                                        <option value="26">‰</option>
                                        <option value="27">W</option>
                                        <option value="28">kW</option>
                                        <option value="29">rpm</option>
                                        <option value="30">bar</option>
                                        <option value="31">Pa</option>
                                        <option value="32">hPa</option>
                                        <option value="33">MPa</option>
                                        <option value="34">N/mm²</option>
                                        <option value="35">°</option>
                                        <option value="36">Hz</option>
                                        <option value="37">m/s</option>
                                        <option value="38">km/h</option>
                                        <option value="39">m³/h</option>
                                        <option value="40">mA</option>
                                        <option value="41">A</option>
                                        <option value="42">m/s²</option>
                                        <option value="255">UnitText slot 0</option>
                                        <option value="254">UnitText slot 1</option>
                                    </select>
                                    <span id="UnitNo6_glyphicon"
                                          class="glyphicon glyphicon-ok form-control-feedback select_gly"></span>
                                </div>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div class="col-sm-3">
                    <table class="table">
                        <caption>Eingangstype</caption>
                        <thead>
                        <tr>
                            <th>Kanal</th>
                            <th>Eingangstype</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>Alle</td>
                            <td>
                                <div id="InputType1" class="form-group has-success has-feedback">
                                    <select id="InputType1_value" data-id="InputType1" class="form-control InputType">
                                        <option value="100">1 mV/V</option>
                                        <option value="200">2 mV/V</option>
                                        <option value="400">4 mV/V</option>
                                        <option value="800">8 mV/V</option>
                                    </select>
                                    <span id="InputType1_glyphicon"
                                          class="glyphicon glyphicon-ok form-control-feedback select_gly"></span>
                                </div>
                            </td>
                        </tr>
                        <!--
                        <tr>
                            <td>2</td>
                            <td>
                                <div id="InputType2" class="form-group has-success has-feedback">
                                    <select id="InputType2_value" data-id="InputType2" class="form-control InputType">
                                        <option value="100">1 mV/V</option>
                                        <option value="200">2 mV/V</option>
                                        <option value="400">4 mV/V</option>
                                        <option value="800">8 mV/V</option>
                                    </select>
                                    <span id="InputType2_glyphicon"
                                          class="glyphicon glyphicon-ok form-control-feedback select_gly"></span>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>3</td>
                            <td>
                                <div id="InputType3" class="form-group has-success has-feedback">
                                    <select id="InputType3_value" data-id="InputType3" class="form-control InputType">
                                        <option value="100">1 mV/V</option>
                                        <option value="200">2 mV/V</option>
                                        <option value="400">4 mV/V</option>
                                        <option value="800">8 mV/V</option>
                                    </select>
                                    <span id="InputType3_glyphicon"
                                          class="glyphicon glyphicon-ok form-control-feedback select_gly"></span>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>4</td>
                            <td>
                                <div id="InputType4" class="form-group has-success has-feedback">
                                    <select id="InputType4_value" data-id="InputType4" class="form-control InputType">
                                        <option value="100">1 mV/V</option>
                                        <option value="200">2 mV/V</option>
                                        <option value="400">4 mV/V</option>
                                        <option value="800">8 mV/V</option>
                                    </select>
                                    <span id="InputType4_glyphicon"
                                          class="glyphicon glyphicon-ok form-control-feedback select_gly"></span>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>5</td>
                            <td>
                                <div id="InputType5" class="form-group has-success has-feedback">
                                    <select id="InputType5_value" data-id="InputType5" class="form-control InputType">
                                        <option value="100">1 mV/V</option>
                                        <option value="200">2 mV/V</option>
                                        <option value="400">4 mV/V</option>
                                        <option value="800">8 mV/V</option>
                                    </select>
                                    <span id="InputType5_glyphicon"
                                          class="glyphicon glyphicon-ok form-control-feedback select_gly"></span>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>6</td>
                            <td>
                                <div id="InputType6" class="form-group has-success has-feedback">
                                    <select id="InputType6_value" data-id="InputType6" class="form-control InputType">
                                        <option value="100">1 mV/V</option>
                                        <option value="200">2 mV/V</option>
                                        <option value="400">4 mV/V</option>
                                        <option value="800">8 mV/V</option>
                                    </select>
                                    <span id="InputType6_glyphicon"
                                          class="glyphicon glyphicon-ok form-control-feedback select_gly"></span>
                                </div>
                            </td>
                        </tr>
                        -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-sm-6 box">
            <div class="panel panel-danger">
                <div class="panel-heading">Danger-Zone</div>
                <div class="panel-body">
                    <div class="btn-toolbar">
                        <button id="btn-saveAll" type="button" class="btn btn-warning disabled"
                                onclick="WriteSaveAll()">SaveAll
                        </button>
                        <button id="btn_setDateTime" type="button" class="btn btn-warning"
                                onclick="setDateTimeFromBrowser()">Browser Zeit
                            setzen
                        </button>
                        <button id="btn_rebootSystem" type="button" class="btn btn-danger"
                                onclick="rebootSystem()">Reboot System
                        </button>

                        <button id="btn_shutdownSystem" type="button" class="btn btn-danger"
                                onclick="shutdownSystem()">Shutdown System
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-6 box">
            <div class="panel panel-default">
                <div class="panel-heading">User-UnitText</div>
                <div class="panel-body">
                    <div class="btn-toolbar">
                        <button id="btn-setUnitText0" type="button" class="btn btn-default"
                                onclick="$('#setUnitTextSlot').html('0');$('#setUnitTextModal').modal('show');">
                            <span class="glyphicon glyphicon-pencil"></span> set UnitText slot 0
                        </button>
                        <button id="btn-setUnitText1" type="button" class="btn btn-default"
                                onclick="$('#setUnitTextSlot').html('1');$('#setUnitTextModal').modal('show');">
                            <span class="glyphicon glyphicon-pencil"></span> set UnitText slot 1
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
</div>
</body>
</html>